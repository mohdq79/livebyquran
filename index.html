<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Live by the Qur’an</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Scheherazade+New&family=Calibri&display=swap" rel="stylesheet">
  <style>
    /* Reset & vars (unchanged) */
    * { margin:0; padding:0; box-sizing:border-box; }
    html, body { height:100%; overflow:hidden; }
    :root {
      --day-bg: linear-gradient(to top, #dceeff, #eaf7ff);
      --night-bg: linear-gradient(to top, #1b2735, #090a0f);
      --text-day: #222; --text-night: #f2f2f2;
      --button-day: #ffe58a; --button-night: #bfa76d;
    }
    body {
      font-family:'Calibri',sans-serif;
      background:var(--day-bg);
      color:var(--text-day);
      transition:background 1s,color 1s;
      position:relative;
    }
    body.night {
      background:var(--night-bg);
      color:var(--text-night);
    }

    /* Canvas covers entire screen, behind everything */
    #flock {
      position:absolute; top:0; left:0;
      width:100%; height:100%;
      z-index:0;
    }

    /* All your existing styles need z-index:1 to sit above */
    header, #date-display, .main, .subscribe-bar {
      position:relative; z-index:1;
    }
    header { top:20px; left:20px; right:20px; /* …rest unchanged… */ }

    /* (Keep all other CSS from your prior index.html) */

  </style>
</head>
<body>

  <!-- Minimalist flock canvas -->
  <canvas id="flock"></canvas>

  <header>
    <div class="logo"><img src="Livebyquran Logo.PNG" alt="Logo"></div>
    <nav>
      <a href="index.html">Home</a>
      <a href="books.html">Books</a>
      <a href="lectures.html">Audio Lectures</a>
      <a href="articles.html">Articles</a>
      <a href="qa.html">Q&A</a>
      <a href="#"><img src="email-icon.png" alt="Contact" style="height:24px;"></a>
    </nav>
  </header>

  <div id="date-display"></div>

  <div class="main">
    <h1>Live by the Qur’an</h1>
    <div class="tagline">Learn. Reflect. Transform.</div>
    <div class="ayah" id="ayah">Loading…</div>
    <div class="buttons">
      <button onclick="location.href='books.html'">Explore Books</button>
      <button onclick="location.href='lectures.html'">Listen to Lectures</button>
      <button onclick="location.href='articles.html'">Read Articles</button>
      <button onclick="location.href='qa.html'">Q&A</button>
    </div>
  </div>

  <div class="subscribe-bar">
    <input type="email" placeholder="Email address">
    <button>Subscribe</button>
  </div>

  <!-- CSV parser & other scripts (unchanged) -->
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.2/papaparse.min.js"></script>
  <script>
    // Day/Night, Dates, Ayah-of-the-Day (same as before) …
    // [omitted here for brevity; keep your existing JS for theme, date, ayah]

    // --------------------
    // Minimalist Flock Effect
    // --------------------
    const canvas = document.getElementById('flock');
    const ctx    = canvas.getContext('2d');
    let W = canvas.width = innerWidth;
    let H = canvas.height = innerHeight;

    window.addEventListener('resize', () => {
      W = canvas.width = innerWidth;
      H = canvas.height = innerHeight;
    });

    // Bird class from CodePen
    class Bird {
      constructor() {
        this.reset();
      }
      reset() {
        this.x = Math.random() * W;
        this.y = Math.random() * H;
        this.vx = (Math.random() * 0.5 + 0.2) * (Math.random()<0.5?-1:1);
        this.vy = (Math.random() * 0.2 - 0.1);
        this.size = Math.random() * 2 + 1;
        this.alpha = Math.random() * 0.5 + 0.3;
      }
      update() {
        this.x += this.vx;
        this.y += this.vy;
        if (this.x < -50 || this.x > W + 50 || this.y < -50 || this.y > H + 50) {
          this.reset();
        }
      }
      draw() {
        ctx.fillStyle = `rgba(255,255,255,${this.alpha})`;
        ctx.beginPath();
        ctx.moveTo(this.x, this.y);
        ctx.lineTo(this.x - this.size*2, this.y + this.size);
        ctx.lineTo(this.x + this.size*2, this.y + this.size);
        ctx.closePath();
        ctx.fill();
      }
    }

    // Create a small flock
    const flock = [];
    for (let i=0; i<30; i++) flock.push(new Bird());

    function animate() {
      ctx.clearRect(0,0,W,H);
      flock.forEach(b => {
        b.update();
        b.draw();
      });
      requestAnimationFrame(animate);
    }
    animate();
  </script>
</body>
</html>
