<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Quran Reader Â· Live by Quran</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    /* basic reset */
    * { margin:0; padding:0; box-sizing:border-box; }
    html, body { height:100%; width:100%; overflow:hidden; font-family:Calibri, sans-serif; }
    /* header/nav */
    header {
      height:60px; background:#fff; box-shadow:0 2px 4px rgba(0,0,0,0.1);
      display:flex; align-items:center; padding:0 1rem; position:fixed; top:0; left:0; right:0; z-index:10;
    }
    header img { height:40px; }
    header nav { margin-left:auto; }
    header nav a {
      color:#333; text-decoration:none; margin-left:1.5rem; font-weight:600;
    }
    /* viewer container */
    #viewer {
      position:fixed; top:60px; bottom:0; left:0; right:0;
      background:#eee;
    }
    /* embed fallback message */
    #error {
      display:flex; align-items:center; justify-content:center;
      height:100%; color:#666; font-size:1.2rem;
    }
  </style>
</head>
<body>
  <header>
    <a href="index.html"><img src="Livebyquran Logo.PNG" alt="Live by Quran"></a>
    <nav>
      <a href="index.html">Home</a>
      <a href="books.html">Books</a>
      <a href="lectures.html">Lectures</a>
      <a href="articles.html">Articles</a>
      <a href="qa.html">Q&A</a>
    </nav>
  </header>

  <div id="viewer">
    <!-- PDF object will be injected here -->
  </div>

  <script>
    // Parse ?file=... from URL
    const params = new URLSearchParams(location.search);
    const file = params.get('file');
    const viewer = document.getElementById('viewer');

    if (!file) {
      // no file param: show error
      viewer.innerHTML = '<div id="error">No PDF specified. Please go back and select a book.</div>';
    } else {
      // insert the PDF object/embed
      // we URL-encode the file path to be safe
      const src = decodeURIComponent(file);
      viewer.innerHTML = `
        <object 
          data="${src}" 
          type="application/pdf" 
          width="100%" 
          height="100%">
          <div id="error">
            Unable to display PDF.<br>
            <a href="${src}" target="_blank">Download it instead.</a>
          </div>
        </object>
      `;
    }
  </script>
</body>
</html>
